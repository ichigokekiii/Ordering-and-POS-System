{"ast":null,"code":"var _jsxFileName = \"/Users/jc/petal-express/Ordering-and-POS-System/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport LandingPage from \"./pages/LandingPage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport AdminProductPage from \"./pages/AdminProductPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport AdminOverviewPage from \"./pages/AdminOverviewPage\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")));\n  const [page, setPage] = useState(\"home\");\n  const handleLogin = userData => {\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setUser(userData);\n\n    // Redirect based on role\n    if (userData.role === \"admin\") {\n      setPage(\"admin\");\n    } else {\n      setPage(\"home\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    setPage(\"home\");\n  };\n  const handleRegister = userData => {\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setUser(userData);\n    setPage(\"home\");\n  };\n\n  // Make controls available to Navbar\n  window.setPage = setPage;\n  window.logout = handleLogout;\n  window.user = user;\n\n  // ðŸ”’ ADMIN WORLD\n  if ((user === null || user === void 0 ? void 0 : user.role) === \"admin\") {\n    if (page === \"admin-products\") {\n      return /*#__PURE__*/_jsxDEV(AdminProductPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    }\n\n    // default admin page\n    return /*#__PURE__*/_jsxDEV(AdminOverviewPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  // user side\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [page === \"home\" && /*#__PURE__*/_jsxDEV(LandingPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 27\n    }, this), page === \"products\" && /*#__PURE__*/_jsxDEV(ProductPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 31\n    }, this), page === \"login\" && /*#__PURE__*/_jsxDEV(LoginPage, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 28\n    }, this), page === \"register\" && /*#__PURE__*/_jsxDEV(RegisterPage, {\n      onRegister: handleRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"CpubOfrnlXJ07zdp1i/3I37bUAA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","LandingPage","ProductPage","AdminProductPage","LoginPage","RegisterPage","AdminOverviewPage","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","JSON","parse","localStorage","getItem","page","setPage","handleLogin","userData","setItem","stringify","role","handleLogout","removeItem","handleRegister","window","logout","fileName","_jsxFileName","lineNumber","columnNumber","children","onLogin","onRegister","_c","$RefreshReg$"],"sources":["/Users/jc/petal-express/Ordering-and-POS-System/frontend/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport LandingPage from \"./pages/LandingPage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport AdminProductPage from \"./pages/AdminProductPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport AdminOverviewPage from \"./pages/AdminOverviewPage\";\n\n\n\nfunction App() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"user\"))\n  );\n  const [page, setPage] = useState(\"home\");\n\n  const handleLogin = (userData) => {\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setUser(userData);\n\n    // Redirect based on role\n    if (userData.role === \"admin\") {\n      setPage(\"admin\");\n    } else {\n      setPage(\"home\");\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    setPage(\"home\");\n  };\n\n  const handleRegister = (userData) => {\n  localStorage.setItem(\"user\", JSON.stringify(userData));\n  setUser(userData);\n  setPage(\"home\");\n};\n\n\n  // Make controls available to Navbar\n  window.setPage = setPage;\n  window.logout = handleLogout;\n  window.user = user;\n\n  // ðŸ”’ ADMIN WORLD\n  if (user?.role === \"admin\") {\n    if (page === \"admin-products\") {\n      return <AdminProductPage />;\n    }\n\n    // default admin page\n    return <AdminOverviewPage />;\n  }\n\n\n  // user side\n  return (\n    <>\n      {page === \"home\" && <LandingPage />}\n      {page === \"products\" && <ProductPage />}\n      {page === \"login\" && <LoginPage onLogin={handleLogin} />}\n      {page === \"register\" && (<RegisterPage onRegister={handleRegister} />)}\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}