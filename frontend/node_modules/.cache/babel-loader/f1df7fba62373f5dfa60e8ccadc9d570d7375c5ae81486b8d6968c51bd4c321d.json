{"ast":null,"code":"var _jsxFileName = \"/Users/jc/petal-express/Ordering-and-POS-System/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport LandingPage from \"./pages/LandingPage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport AdminProductPage from \"./pages/AdminProductPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")));\n  const [page, setPage] = useState(\"home\");\n  const handleLogin = userData => {\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setUser(userData);\n\n    // Redirect based on role\n    if (userData.role === \"admin\") {\n      setPage(\"admin\");\n    } else {\n      setPage(\"home\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    setPage(\"home\");\n  };\n\n  // Make controls available to Navbar\n  window.setPage = setPage;\n  window.logout = handleLogout;\n  window.user = user;\n  if ((user === null || user === void 0 ? void 0 : user.role) === \"admin\") {\n    return /*#__PURE__*/_jsxDEV(AdminProductPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n\n  // user side\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [page === \"home\" && /*#__PURE__*/_jsxDEV(LandingPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 27\n    }, this), page === \"products\" && /*#__PURE__*/_jsxDEV(ProductPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 31\n    }, this), page === \"login\" && /*#__PURE__*/_jsxDEV(LoginPage, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"CpubOfrnlXJ07zdp1i/3I37bUAA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","LandingPage","ProductPage","AdminProductPage","LoginPage","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","JSON","parse","localStorage","getItem","page","setPage","handleLogin","userData","setItem","stringify","role","handleLogout","removeItem","window","logout","fileName","_jsxFileName","lineNumber","columnNumber","children","onLogin","_c","$RefreshReg$"],"sources":["/Users/jc/petal-express/Ordering-and-POS-System/frontend/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport LandingPage from \"./pages/LandingPage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport AdminProductPage from \"./pages/AdminProductPage\";\nimport LoginPage from \"./pages/LoginPage\";\n\nfunction App() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"user\"))\n  );\n  const [page, setPage] = useState(\"home\");\n\n  const handleLogin = (userData) => {\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setUser(userData);\n\n    // Redirect based on role\n    if (userData.role === \"admin\") {\n      setPage(\"admin\");\n    } else {\n      setPage(\"home\");\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    setPage(\"home\");\n  };\n\n  // Make controls available to Navbar\n  window.setPage = setPage;\n  window.logout = handleLogout;\n  window.user = user;\n\n  if (user?.role === \"admin\") {\n    return <AdminProductPage />;\n  }\n\n  // user side\n  return (\n    <>\n      {page === \"home\" && <LandingPage />}\n      {page === \"products\" && <ProductPage />}\n      {page === \"login\" && <LoginPage onLogin={handleLogin} />}\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,gBAAgB,MAAM,0BAA0B;AACvD,OAAOC,SAAS,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAC9Ba,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,CAAC;EACD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,MAAM,CAAC;EAExC,MAAMmB,WAAW,GAAIC,QAAQ,IAAK;IAChCL,YAAY,CAACM,OAAO,CAAC,MAAM,EAAER,IAAI,CAACS,SAAS,CAACF,QAAQ,CAAC,CAAC;IACtDR,OAAO,CAACQ,QAAQ,CAAC;;IAEjB;IACA,IAAIA,QAAQ,CAACG,IAAI,KAAK,OAAO,EAAE;MAC7BL,OAAO,CAAC,OAAO,CAAC;IAClB,CAAC,MAAM;MACLA,OAAO,CAAC,MAAM,CAAC;IACjB;EACF,CAAC;EAED,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACzBT,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;IAC/Bb,OAAO,CAAC,IAAI,CAAC;IACbM,OAAO,CAAC,MAAM,CAAC;EACjB,CAAC;;EAED;EACAQ,MAAM,CAACR,OAAO,GAAGA,OAAO;EACxBQ,MAAM,CAACC,MAAM,GAAGH,YAAY;EAC5BE,MAAM,CAACf,IAAI,GAAGA,IAAI;EAElB,IAAI,CAAAA,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,IAAI,MAAK,OAAO,EAAE;IAC1B,oBAAOjB,OAAA,CAACH,gBAAgB;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7B;;EAEA;EACA,oBACEzB,OAAA,CAAAE,SAAA;IAAAwB,QAAA,GACGf,IAAI,KAAK,MAAM,iBAAIX,OAAA,CAACL,WAAW;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAClCd,IAAI,KAAK,UAAU,iBAAIX,OAAA,CAACJ,WAAW;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACtCd,IAAI,KAAK,OAAO,iBAAIX,OAAA,CAACF,SAAS;MAAC6B,OAAO,EAAEd;IAAY;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACxD,CAAC;AAEP;AAACrB,EAAA,CAzCQD,GAAG;AAAAyB,EAAA,GAAHzB,GAAG;AA2CZ,eAAeA,GAAG;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}